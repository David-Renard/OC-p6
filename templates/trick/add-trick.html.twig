{% extends 'base.html.twig' %}

{% block title %}Ajouter un trick{% endblock %}

{% block body %}
<div class="container text-center text-primary pt-3 bg-secondary-subtle rounded-2 my-3 my-sm-5">
    <div class="row h3">
        <h1 class="h3">Ajoute une figure et quelques médias !</h1>
    </div>
    {{ form_errors(form) }}
    {{ form_start(form) }}
    <div class="my-3 d-flex justify-content-around">
        {{ form_row(form.name) }}
    </div>
    <div class="my-3 d-flex justify-content-around">
        {{ form_row(form.description) }}
    </div>
    <div class="mt-3 d-flex justify-content-around">
        {{ form_row(form.category) }}
    </div>
    <div class="mt-3 d-flex justify-content-around">
        {{ form_row(form.attachment) }}
    </div>
    <div class="mt-3 ">
        <button type="button" class="add_item_link btn btn-primary m-auto" data-collection-holder-class="videos">Ajouter une vidéo</button>
        <ul class="videos list-videos m-auto"
            data-index="{{ form.video|length > 0 ? form.video|last.vars.name + 1 : 0 }}"
            data-prototype="{{ form_widget(form.video.vars.prototype)|e('html_attr') }}"
        >
            {% for video in form.video %}
                <li>{{ form_row(video.url) }}</li>
            {% endfor %}
        </ul>
    </div>
    <div class="mt-3 d-none justify-content-around">
        {{ form_row(form.author) }}
    </div>
    <div class="my-3 d-flex justify-content-around">
        {{ form_row(form.submit) }}
    </div>
    {{ form_end(form) }}
</div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('embeded') }}
{% endblock %}